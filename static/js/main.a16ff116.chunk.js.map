{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","services/apiServices.js","App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","this","className","s","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","modalContent","id","onItemClick","webformatURL","src","alt","ImageGalleryItem_image","onClick","ImageGallery","handleOpenModal","e","target","images","map","image","key","modalRoot","document","getElementById","Modal","handleBackdropClick","onBackdrop","content","createPortal","Overlay","Button","onPress","defaultProps","Spinner","color","height","width","fetchImages","page","fetchUrl","fetch","then","res","json","App","visibleImages","isLoading","openModal","toggleModal","toggleLoading","hadleChangeQuery","query","handleNextPage","handleScroll","window","scrollTo","top","documentElement","scrollHeight","behavior","modalContentSet","itemId","element","find","largeImageURL","getData","hits","catch","error","console","log","message","finally","prevProps","isNotLastPage","length","btnEnable","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,2B,qNCgDbC,E,4MAvCbC,MAAQ,CACNC,YAAa,I,EAGfC,aAAe,SAACC,GAAW,IAAD,EACAA,EAAMC,cAAtBC,EADgB,EAChBA,KAAMC,EADU,EACVA,MACd,EAAKC,SAAL,eAAiBF,EAAOC,K,EAG1BE,aAAe,SAACL,GACdA,EAAMM,iBADkB,IAEhBR,EAAgB,EAAKD,MAArBC,YACR,EAAKS,MAAMC,SAASV,I,uDAGZ,IACAA,EAAgBW,KAAKZ,MAArBC,YACR,OACE,4BAAQY,UAAWC,IAAEC,WACnB,0BAAMF,UAAWC,IAAEE,WAAYL,SAAUC,KAAKJ,cAC5C,4BAAQS,KAAK,SAASJ,UAAWC,IAAEI,mBACjC,0BAAML,UAAWC,IAAEK,yBAAnB,WAEF,2BACEN,UAAWC,IAAEM,iBACbH,KAAK,OACLI,aAAa,MACbhB,KAAK,cACLiB,WAAS,EACTC,YAAY,2BACZC,SAAUZ,KAAKV,aACfI,MAAOL,U,GApCKwB,a,iCCuBTC,E,4MAhBbC,aAAe,SAACC,GACd,EAAKlB,MAAMmB,YAAYD,I,uDAEf,IAAD,SACsBhB,KAAKF,MAA1BkB,EADD,EACCA,GAAIE,EADL,EACKA,aACZ,OACE,yBACEC,IAAKD,EACLE,IAAI,GACJnB,UAAWC,IAAEmB,uBACbC,QAAS,kBAAM,EAAKP,aAAaC,U,GAjBVH,aCiChBU,E,4MArBbC,gBAAkB,SAACC,GACbA,EAAEC,SAAWD,EAAEjC,eACjB,EAAKM,MAAMwB,W,uDAIL,IAAD,EACyBtB,KAAKF,MAA7B6B,EADD,EACCA,OAAQV,EADT,EACSA,YAChB,OACE,wBAAIhB,UAAWC,IAAEqB,aAAcD,QAAStB,KAAKwB,iBAC1CG,GACCA,EAAOC,KAAI,SAACC,GAAD,OACT,wBAAIC,IAAKD,EAAMb,GAAIf,UAAWC,IAAEY,kBAC9B,kBAAC,EAAD,iBAAsBe,EAAtB,CAA6BZ,YAAaA,c,GAxB7BJ,a,gBCArBkB,EAAYC,SAASC,eAAe,cA2B3BC,E,4MAnBbC,oBAAsB,SAACV,GACjBA,EAAEC,SAAWD,EAAEjC,eACjB,EAAKM,MAAMsC,c,uDAIL,IACAC,EAAYrC,KAAKF,MAAjBuC,QACR,OAAOC,uBACL,yBAAKrC,UAAWC,IAAEqC,QAASjB,QAAStB,KAAKmC,qBACvC,yBAAKlC,UAAWC,IAAEgC,OAChB,yBAAKf,IAAKkB,EAASjB,IAAI,OAG3BW,O,GApBclB,a,iBCHd2B,E,uKAQM,IAAD,EACmBxC,KAAKF,MAAvB2C,EADD,EACCA,QAAShD,EADV,EACUA,KACjB,OACE,4BAAQY,KAAK,SAASiB,QAASmB,EAASxC,UAAWC,IAAEsC,QAClD/C,O,GAZYoB,aAAf2B,EACGE,aAAe,CACpBjD,KAAM,aAgBK+C,Q,kCCRAG,E,uKARX,OACE,yBAAK1C,UAAWC,IAAEyC,SAChB,kBAAC,IAAD,CAAQtC,KAAK,OAAOuC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,U,GAJzCjC,aCGPkC,EALK,SAAC1D,EAAa2D,GAChC,IAAMC,EAAQ,UAHJ,4BAGI,aAAc5D,EAAd,iBAAkC2D,EAAlC,gBAJJ,qCAII,wDACd,OAAOE,MAAMD,GAAUE,MAAK,SAACC,GAAD,OAASA,EAAIC,WC6G5BC,G,kNArGblE,MAAQ,CACN2B,aAAc,GACd1B,YAAa,GACb2D,KAAM,EACNO,cAAe,GACfC,WAAW,EACXC,WAAW,G,EAabC,YAAc,WACZ,EAAK/D,UAAS,kBAAoB,CAAE8D,WAAtB,EAAGA,e,EAGnBE,cAAgB,WACd,EAAKhE,UAAS,kBAAoB,CAAE6D,WAAtB,EAAGA,e,EAGnBI,iBAAmB,SAACC,GAClB,EAAKlE,SAAS,CACZN,YAAawE,EACbb,KAAM,EACNO,cAAe,M,EAInBO,eAAiB,WACf,EAAKnE,UAAS,YACZ,MAAO,CACLqD,KAFwB,EAAXA,KAEA,O,EAKnBe,aAAe,WACbC,OAAOC,SAAS,CACdC,IAAKlC,SAASmC,gBAAgBC,aAC9BC,SAAU,Y,EAIdC,gBAAkB,SAACC,GAAY,IAEvBC,EADoB,EAAKpF,MAAvBmE,cACsBkB,MAAK,qBAAGzD,KAAgBuD,KACtD,EAAK5E,SAAS,CAAEoB,aAAcyD,EAAQE,iB,EAGxCC,QAAU,WAAO,IAAD,EACgB,EAAKvF,MAA3BC,EADM,EACNA,YAAa2D,EADP,EACOA,KACrB,EAAKW,gBACLZ,EAAY1D,EAAa2D,GACtBG,MAAK,YAAe,IAAZyB,EAAW,EAAXA,KACP,EAAKjF,UAAS,YAAwB,IAArB4D,EAAoB,EAApBA,cACf,MAAO,CAAEA,cAAc,GAAD,mBAAMA,GAAN,YAAwBqB,WAGjDzB,KAAK,EAAKY,cACVc,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,EAAMG,YACnCC,QAAQ,EAAKvB,gB,iEA1DCwB,E,GAAmC,IAAtB9F,EAAqB,EAArBA,YAAa2D,EAAQ,EAARA,KACvC3D,IAAgBW,KAAKZ,MAAMC,aAC7BW,KAAK2E,UAGH3B,IAAShD,KAAKZ,MAAM4D,MACtBhD,KAAK2E,Y,+BAuDC,IAAD,EAOH3E,KAAKZ,MALPmE,EAFK,EAELA,cACAE,EAHK,EAGLA,UACA1C,EAJK,EAILA,aACAyC,EALK,EAKLA,UACAR,EANK,EAMLA,KAEIoC,EAAgB7B,EAAc8B,OAASrC,IAAS,GAChDsC,EAAY/B,EAAc8B,OAAS,IAAM7B,GAAa4B,EAC5D,OACE,yBAAKnF,UAAU,OACb,kBAAC,EAAD,CAAWF,SAAUC,KAAK4D,mBAE1B,kBAAC,EAAD,CACEjC,OAAQ4B,EACRjC,QAAStB,KAAK0D,YACdzC,YAAajB,KAAKsE,kBAGnBb,GACC,kBAAC,EAAD,CAAOpB,QAAStB,EAAcqB,WAAYpC,KAAK0D,cAEhDF,GAAa,kBAAC,EAAD,MAEb8B,GAAa,kBAAC,EAAD,CAAQ7F,KAAK,YAAYgD,QAASzC,KAAK8D,sB,GAhG3CjD,c,MCLlB0E,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFzD,SAASC,eAAe,U,kBCV1BhD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,sC,kBCAvPD,EAAOC,QAAU,CAAC,aAAe,qC,kBCAjCD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.a16ff116.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__sg8GA\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3WI26\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__wUve6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__1DqNI\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./SearchBar.module.css\";\r\n\r\nclass SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.currentTarget;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { searchQuery } = this.state;\r\n    this.props.onSubmit(searchQuery);\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"searchQuery\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            value={searchQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  static propTypes = {\r\n    onItemClick: PropTypes.func.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  modalContent = (id) => {\r\n    this.props.onItemClick(id);\r\n  };\r\n  render() {\r\n    const { id, webformatURL } = this.props;\r\n    return (\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={() => this.modalContent(id)}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    onItemClick: PropTypes.func.isRequired,\r\n    images: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n      })\r\n    ).isRequired,\r\n  };\r\n\r\n  handleOpenModal = (e) => {\r\n    if (e.target !== e.currentTarget) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { images, onItemClick } = this.props;\r\n    return (\r\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\r\n        {images &&\r\n          images.map((image) => (\r\n            <li key={image.id} className={s.ImageGalleryItem}>\r\n              <ImageGalleryItem {...image} onItemClick={onItemClick} />\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onBackdrop: PropTypes.func.isRequired,\r\n    content: PropTypes.string.isRequired,\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onBackdrop();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { content } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={content} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Button.module.css\";\r\n\r\nclass Button extends Component {\r\n  static defaultProps = {\r\n    name: \"Load more\",\r\n  };\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    onPress: PropTypes.func.isRequired,\r\n  };\r\n  render() {\r\n    const { onPress, name } = this.props;\r\n    return (\r\n      <button type=\"button\" onClick={onPress} className={s.Button}>\r\n        {name}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport s from \"./Spinner.module.css\";\r\n\r\nclass Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <div className={s.Spinner}>\r\n        <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Spinner;\r\n","const api = \"16865907-bf97a2667d97724c7c41d2d46\";\r\nconst url = \"https://pixabay.com/api/?\";\r\n\r\nconst fetchImages = (searchQuery, page) => {\r\n  const fetchUrl = `${url}q=${searchQuery}&page=${page}&key=${api}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return fetch(fetchUrl).then((res) => res.json());\r\n};\r\n\r\nexport default fetchImages;\r\n","import React, { Component } from \"react\";\r\n\r\nimport SearchBar from \"./components/SearchBar/SearchBar\";\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\r\nimport Modal from \"./components/Modal/Modal\";\r\nimport Button from \"./components/Button/Button\";\r\nimport Spinner from \"./components/Spinner/Spinner\";\r\n\r\nimport fetchImages from \"./services/apiServices\";\r\n\r\nimport \"./App.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    modalContent: \"\",\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    visibleImages: [],\r\n    isLoading: false,\r\n    openModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, { searchQuery, page }) {\r\n    if (searchQuery !== this.state.searchQuery) {\r\n      this.getData();\r\n    }\r\n\r\n    if (page !== this.state.page) {\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ openModal }) => ({ openModal: !openModal }));\r\n  };\r\n\r\n  toggleLoading = () => {\r\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\r\n  };\r\n\r\n  hadleChangeQuery = (query) => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      visibleImages: [],\r\n    });\r\n  };\r\n\r\n  handleNextPage = () => {\r\n    this.setState(({ page }) => {\r\n      return {\r\n        page: page + 1,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  modalContentSet = (itemId) => {\r\n    const { visibleImages } = this.state;\r\n    const element = visibleImages.find(({ id }) => id === itemId);\r\n    this.setState({ modalContent: element.largeImageURL });\r\n  };\r\n\r\n  getData = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.toggleLoading();\r\n    fetchImages(searchQuery, page)\r\n      .then(({ hits }) => {\r\n        this.setState(({ visibleImages }) => {\r\n          return { visibleImages: [...visibleImages, ...hits] };\r\n        });\r\n      })\r\n      .then(this.handleScroll)\r\n      .catch((error) => console.log(error.message))\r\n      .finally(this.toggleLoading);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      visibleImages,\r\n      openModal,\r\n      modalContent,\r\n      isLoading,\r\n      page,\r\n    } = this.state;\r\n    const isNotLastPage = visibleImages.length / page === 12;\r\n    const btnEnable = visibleImages.length > 0 && !isLoading && isNotLastPage;\r\n    return (\r\n      <div className=\"App\">\r\n        <SearchBar onSubmit={this.hadleChangeQuery} />\r\n\r\n        <ImageGallery\r\n          images={visibleImages}\r\n          onClick={this.toggleModal}\r\n          onItemClick={this.modalContentSet}\r\n        />\r\n\r\n        {openModal && (\r\n          <Modal content={modalContent} onBackdrop={this.toggleModal} />\r\n        )}\r\n        {isLoading && <Spinner />}\r\n\r\n        {btnEnable && <Button name=\"Load more\" onPress={this.handleNextPage} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2eA2v\",\"SearchForm\":\"SearchBar_SearchForm__1cL4Z\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1cGF9\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2tz0k\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2iBJa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2E1t0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21Ph3\",\"Modal\":\"Modal_Modal__3ySIl\"};"],"sourceRoot":""}